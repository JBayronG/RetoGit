plugins {
    id 'net.serenity-bdd.serenity-gradle-plugin' version '3.4.2'
    id 'java'
}

group = 'com.falabella'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'net.serenity-bdd:serenity-junit5:3.3.0' //
    implementation 'net.serenity-bdd:serenity-cucumber:3.9.0'
    implementation 'net.serenity-bdd:serenity-core:3.3.0'
    implementation 'org.apache.poi:poi:3.17'
    implementation 'org.apache.poi:poi-ooxml:3.17'
    implementation 'org.slf4j:slf4j-simple:1.7.29'
    implementation 'org.assertj:assertj-core:3.12.2'
    testImplementation 'junit:junit:3.3.0'
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

test {
    useJUnitPlatform()
}

serenity {
    testRoot = "falabella.runners"
    requirementsBaseDir = ['src/test/resources/features/']
    reports = ["single-page-html"]
}

gradle.startParameter.continueOnFailure = true

// Define 'aggregate' como dependencia final para 'test'
test.finalizedBy 'aggregate'